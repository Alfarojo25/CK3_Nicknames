#########################################
# AC Nickname System - Scripted Triggers
# Base triggers for nickname assignment
#########################################
### AGE REQUIREMENTS ###
ac_age_adult_trigger = {
	age >= 16
}

ac_age_mature_trigger = {
	age >= 20
}

ac_age_veteran_trigger = {
	age >= 30
}

### SKILL RANGES ###
# 0-8: No nickname (too mediocre)
ac_skill_too_low_trigger = {
	trigger_if = {
		limit = {
			exists = scope:skill_type
		}
		scope:skill_type <= 8
	}
	trigger_else = {
		always = no
	}
}

# 9-11: Bad/Incompetent nicknames
ac_skill_is_bad_trigger = {
	OR = {
		AND = {
			diplomacy >= 9
			diplomacy <= 11
		}
		AND = {
			martial >= 9
			martial <= 11
		}
		AND = {
			stewardship >= 9
			stewardship <= 11
		}
		AND = {
			intrigue >= 9
			intrigue <= 11
		}
		AND = {
			learning >= 9
			learning <= 11
		}
	}
}

# 12-16: Medium/Competent nicknames
ac_skill_is_medium_trigger = {
	OR = {
		AND = {
			diplomacy >= 12
			diplomacy <= 16
		}
		AND = {
			martial >= 12
			martial <= 16
		}
		AND = {
			stewardship >= 12
			stewardship <= 16
		}
		AND = {
			intrigue >= 12
			intrigue <= 16
		}
		AND = {
			learning >= 12
			learning <= 16
		}
	}
}

# 17+: Glorious/Legendary nicknames
ac_skill_is_glorious_trigger = {
	OR = {
		diplomacy >= 17
		martial >= 17
		stewardship >= 17
		intrigue >= 17
		learning >= 17
	}
}

# Specific skill checks
ac_diplomacy_bad_trigger = {
	diplomacy >= 9
	diplomacy <= 11
}

ac_diplomacy_medium_trigger = {
	diplomacy >= 12
	diplomacy <= 16
}

ac_diplomacy_glorious_trigger = {
	diplomacy >= 17
}

ac_martial_bad_trigger = {
	martial >= 9
	martial <= 11
}

ac_martial_medium_trigger = {
	martial >= 12
	martial <= 16
}

ac_martial_glorious_trigger = {
	martial >= 17
}

ac_stewardship_bad_trigger = {
	stewardship >= 9
	stewardship <= 11
}

ac_stewardship_medium_trigger = {
	stewardship >= 12
	stewardship <= 16
}

ac_stewardship_glorious_trigger = {
	stewardship >= 17
}

ac_intrigue_bad_trigger = {
	intrigue >= 9
	intrigue <= 11
}

ac_intrigue_medium_trigger = {
	intrigue >= 12
	intrigue <= 16
}

ac_intrigue_glorious_trigger = {
	intrigue >= 17
}

ac_learning_bad_trigger = {
	learning >= 9
	learning <= 11
}

ac_learning_medium_trigger = {
	learning >= 12
	learning <= 16
}

ac_learning_glorious_trigger = {
	learning >= 17
}

### TRAIT CATEGORIES ###
# Congenital traits (heredable)
ac_has_congenital_trait_trigger = {
	OR = {
		# Beauty
		has_trait = beauty_good_3
		has_trait = beauty_good_2
		has_trait = beauty_good_1
		has_trait = beauty_bad_1
		has_trait = beauty_bad_2
		has_trait = beauty_bad_3
		# Intelligence
		has_trait = intellect_good_3
		has_trait = intellect_good_2
		has_trait = intellect_good_1
		has_trait = intellect_bad_1
		has_trait = intellect_bad_2
		has_trait = intellect_bad_3
		# Strength/Health
		has_trait = strong
		has_trait = weak
		has_trait = fecund
		has_trait = infertile
		# Size
		has_trait = giant
		has_trait = dwarf
		has_trait = hunchbacked
		# Other congenital
		has_trait = albino
		has_trait = bleeder
		has_trait = clubfooted
		has_trait = lisping
		has_trait = stuttering
	}
}

# Physical traits (acquired, not heredable)
ac_has_physical_trait_trigger = {
	OR = {
		# Combat wounds
		has_trait = wounded_1
		has_trait = wounded_2
		has_trait = wounded_3
		has_trait = maimed
		has_trait = infirm
		has_trait = incapable
		# Missing body parts
		has_trait = one_eyed
		has_trait = one_legged
		# Disfigurement
		has_trait = disfigured
		has_trait = scarred
		has_trait = great_pox
		# Disabilities
		has_trait = blind
		has_trait = eunuch
		has_trait = leper
	}
}

# Beauty traits
ac_has_beauty_trait_trigger = {
	OR = {
		has_trait = beauty_good_3
		has_trait = beauty_good_2
		has_trait = beauty_good_1
		has_trait = beauty_bad_1
		has_trait = beauty_bad_2
		has_trait = beauty_bad_3
	}
}

# Size traits
ac_has_size_trait_trigger = {
	OR = {
		has_trait = giant
		has_trait = dwarf
	}
}

# Intelligence traits
ac_has_intelligence_trait_trigger = {
	OR = {
		has_trait = intellect_good_3
		has_trait = intellect_good_2
		has_trait = intellect_good_1
		has_trait = intellect_bad_1
		has_trait = intellect_bad_2
		has_trait = intellect_bad_3
	}
}

# Strength traits
ac_has_strength_trait_trigger = {
	OR = {
		has_trait = strong
		has_trait = weak
	}
}

# Disfigurement traits
ac_has_disfigurement_trait_trigger = {
	OR = {
		has_trait = disfigured
		has_trait = scarred
		has_trait = great_pox
		has_trait = maimed
		has_trait = one_eyed
		has_trait = one_legged
		has_trait = blind
		has_trait = eunuch
	}
}

### FAITH FAMILIES ###
# Abrahamic religions
ac_is_abrahamic_faith_trigger = {
	OR = {
		religion = religion:christianity_religion
		religion = religion:islam_religion
		religion = religion:judaism_religion
	}
}

# Eastern religions (Dharmic)
ac_is_eastern_faith_trigger = {
	OR = {
		religion = religion:hinduism_religion
		religion = religion:buddhism_religion
		religion = religion:jainism_religion
	}
}

# Pagan religions
ac_is_pagan_faith_trigger = {
	OR = {
		religion = religion:germanic_religion
		religion = religion:slavic_religion
		religion = religion:baltic_religion
		religion = religion:finno_ugric_religion
		religion = religion:west_african_religion
		religion = religion:akom_religion
		religion = religion:kushitism_religion
		religion = religion:tengrism_religion
		religion = religion:bon_religion
		religion = religion:zunism_religion
		religion = religion:hellenism_religion
		religion = religion:basque_religion
		religion = religion:waaqism_religion
	}
}

# Single/unique religions
ac_is_single_faith_trigger = {
	OR = {
		religion = religion:zoroastrianism_religion
		religion = religion:dualism_religion
		religion = religion:taoism_religion
	}
}

# Specific faith checks
ac_is_christian_trigger = {
	religion = religion:christianity_religion
}

ac_is_catholic_trigger = {
	faith = faith:catholic
}

ac_is_orthodox_trigger = {
	faith = faith:orthodox
}

ac_is_norse_pagan_trigger = {
	faith = faith:norse_pagan
}

ac_is_muslim_trigger = {
	religion = religion:islam_religion
}

ac_is_sunni_trigger = {
	OR = {
		faith = faith:ashari
		faith = faith:maturidi
		faith = faith:mutazila
	}
}

ac_is_shiite_trigger = {
	OR = {
		faith = faith:ismaili
		faith = faith:zayidi
	}
}

ac_is_hindu_trigger = {
	religion = religion:hinduism_religion
}

ac_is_buddhist_trigger = {
	religion = religion:buddhism_religion
}

ac_is_zoroastrian_trigger = {
	religion = religion:zoroastrianism_religion
}

### COMBINED CONDITIONS ###
# Ready for physical nickname (age 16+, has trait)
ac_ready_for_physical_nickname_trigger = {
	ac_age_adult_trigger = yes
	ac_has_physical_trait_trigger = yes
	has_any_nickname = no
}

# Ready for congenital nickname (age 16+, has trait)
ac_ready_for_congenital_nickname_trigger = {
	ac_age_adult_trigger = yes
	ac_has_congenital_trait_trigger = yes
	has_any_nickname = no
}

# Ready for skill nickname (age 20+, skill qualifies)
ac_ready_for_skill_nickname_trigger = {
	ac_age_mature_trigger = yes
	OR = {
		ac_skill_is_bad_trigger = yes
		ac_skill_is_medium_trigger = yes
		ac_skill_is_glorious_trigger = yes
	}
	has_any_nickname = no
}

# Ready for faith nickname (age 20+, correct faith)
ac_ready_for_faith_nickname_trigger = {
	ac_age_mature_trigger = yes
	has_any_nickname = no
	OR = {
		ac_is_abrahamic_faith_trigger = yes
		ac_is_eastern_faith_trigger = yes
		ac_is_pagan_faith_trigger = yes
		ac_is_single_faith_trigger = yes
	}
}

### EXCLUSIONS ###
# Character should not receive nicknames
ac_nickname_blocked_trigger = {
	OR = {
		is_imprisoned = yes		# Currently imprisoned
		is_incapable = yes		# Incapacitated
		has_character_flag = ac_nickname_blocked		# Manual block
	}
}

# Already has a nickname
ac_has_nickname_already_trigger = {
	has_any_nickname = yes
}
